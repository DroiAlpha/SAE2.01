<!-- Structure commune -->
{% extends 'base.html' %}
<!-- Contenu de la page Jeu de données Points de prélèvements -->
{% block content %}
<!-- En-tête secondaire -->
{% include 'jeux_sub-header.html' %}

<!-- Barre de filtres -->
{% set filter_fields = ['annee', 'libelle_usage', 'nom_commune', 'libelle_departement', 'nom_ouvrage'] %}
{% set filter_labels = {
    'annee': 'Année',
    'libelle_usage': 'Usage',
    'nom_commune': 'Commune',
    'libelle_departement': 'Département',
    'nom_ouvrage': 'Ouvrage'
} %}
{% include 'jeux_filter_bar.html' %}

<!-- Bouton de téléchargement -->
{% if tab_pt_prelev %}
<a href="{{ url_for('download_points_prelevement') }}" class="btn btn-primary">
    <i class="fas fa-download"></i> Télécharger en CSV
</a>
{% endif %}

<!-- Jeu de données Points de prélèvements -->
{% if tab_pt_prelev %}
<table>
    <thead>
        <tr>
            <th>Code Point</th>
            <th>Nom</th>
            <th>Commune</th>
            <th>Département</th>
            <th>Latitude</th>
            <th>Longitude</th>
        </tr>
    </thead>
    <tbody>
        {% for row in tab_pt_prelev %}
        <tr>
            <td>{{ row.code_point }}</td>
            <td>{{ row.nom_point }}</td>
            <td>{{ row.nom_commune }}</td>
            <td>{{ row.libelle_departement }}</td>
            <td>{{ row.latitude }}</td>
            <td>{{ row.longitude }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>Aucune donnée disponible.</p>
{% endif %}
{% endblock %}